# 第 5 章 ユーザーとグループの管理

## 5-1 ユーザーとグループ

- **ユーザー**：Linux 利用の基本単位。ログインやメール受信など個別の利用者として機能。
- **グループ**：複数ユーザーをまとめて管理する仕組み。特定グループのみが操作可能なファイルやサービスを設定可能。
- 適切な設定により、ファイル・ディレクトリ・プログラムの参照、編集、実行権限を必要なユーザーにのみ付与できる。

## 5-2 システムを管理するユーザー root

- **root**：Linux システム全体を管理する特権ユーザー（スーパーユーザー）。
- 全ファイルへのアクセスやシステム管理コマンド実行が可能。
- 誤操作や悪用のリスクが高いため、厳格な管理が必要。
- root 作業方法：
  - `su` コマンド：ユーザー切替（パスワード必須）
  - `sudo` コマンド：指定コマンドのみ root 権限で実行（推奨）

---

### 5-2-1 su コマンド

- **用途**：一時的に他ユーザー（省略時は root）に切り替え。
- **パスワード**：切替先ユーザーのパスワードが必要（未設定ユーザーには不可）。
- **動作モード**：
  - オプションなし：現在の環境を保持したままユーザー切替。
  - `-` オプション：指定ユーザーで新規ログインしたのと同等の環境で切替。
- **書式**：

su [-] [ユーザー]

## オプション

ログインシェルを起動してユーザーを切り替える

---

### 5-2-2 sudo コマンド

- **用途**：許可されたユーザーが指定コマンドのみを root 権限で実行。
- **利点**：
- root パスワードを知らせずに管理作業を依頼できる。
- 実行コマンドがログに記録されるため追跡可能。
- 実行権限は `/etc/sudoers` で制御。
- **書式**：

sudo コマンド

### root 権限取得の手順（sudo 事前学習）

1. **sudo で root パスワードを設定**

   - 実習前に sudo を使って root パスワードを設定しておく

2. **su コマンドで root に切り替え**

```bash

$ su -
パスワード: ※ root のパスワードを入力（非表示）

- id コマンドで root 権限を確認

# id
uid=0(root) gid=0(root) groups=0(root)

```

3. **作業終了後は exit でログアウト**

```bash

# exit

```

- root 権限を使い終わったら必ずログアウトして安全を確保

---
