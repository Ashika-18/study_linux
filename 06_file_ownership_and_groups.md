# 6 章 ファイルやディレクトリのアクセス制御

Linux はマルチユーザー OS であるため、セキュリティ保護の観点からファイルやディレクトリにはアクセス制御が必要です。  
アクセス制御は「所有者」や「所有グループ」、それぞれに設定される **アクセス権** によって実現されます。

## 本章の内容

- ファイルの所有者と所有グループ
- ファイルとアクセス権

## 6-1 ファイルの所有者と所有グループ

- 各ファイルやディレクトリには **所有者（ユーザー）** と **所有グループ** が設定される。
- ファイルを作成した場合
  - 所有者 → 作成したユーザー
  - 所有グループ → そのユーザーのプライマリーグループ
- この所有権に基づきアクセス制御が行われる。

---

### 6-1-1 所有者と所有グループの確認

## 概要

Linux のファイルには **所有者（ユーザー）** と **所有グループ** が設定されており、  
「誰が利用できるか、どんな操作ができるか」を管理する。

## 確認方法

`ls -l` コマンドで確認できる。

```bash

$ touch test

$ ls -l test

-rw-r--r--. 1 linuc linuc 0 8月16 10:44 test

```

表示内容

- -rw-r--r-- : アクセス権（ユーザー / グループ / その他）

- 3 番目の項目 : 所有者（例: linuc ユーザー）

- 4 番目の項目 : 所有グループ（例: linuc グループ）

ポイント

- 所有者 : ファイルの持ち主ユーザー

- 所有グループ : ファイルに関連付けられたグループ

- アクセス権はこれらに基づいて適用される

---

### 6-1-2 所有者の変更

## 概要

ファイルやディレクトリの **所有者** を変更するには `chown` コマンドを使用する。  
また、指定方法によって **所有グループ** も同時に変更できる。

> 所有者・所有グループの変更には **root 権限** が必要。

---

## 書式

chown [オプション] [ユーザー]:[グループ]] ファイル

オプション

- -R : 指定ディレクトリ以下を再帰的に変更

## 指定のパターン

- 所有者を変更

chown ユーザー ファイル

- 所有者と所有グループを変更

chown ユーザー:グループ ファイル

- 所有グループのみ変更

chown :グループ ファイル

実行例

```bash

$ chown sato test
chown: 'test' の所有者を変更中: 許可されていない操作です

$ sudo chown sato test

$ ls -l test
-rw-r--r--. 1 sato linuc 0 8月16 10:44 test

```

- 一般ユーザーは直接変更できないため、sudo が必要

- 所有者が sato に変更されたことが確認できる

## 注意点

- 他人が所有するファイルを削除しようとすると確認が必要になる

```bash

$ rm test
rm: 書き込み保護されたファイル 'test' を削除しますか? y

```
